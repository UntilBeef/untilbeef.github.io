<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>杀手 - Death Place Wiki</title>
    <link rel="icon" href="assets/icons/wikiicon.png" type="image/png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', 'Source Han Sans SC', '思源黑体', Arial, Helvetica, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            line-height: 1.8;
        }

        header {
            background: #1a1a1a;
            padding: 1rem 0;
            border-bottom: 1px solid #333;
        }

        nav {
            background: #1a1a1a;
            padding: 1rem 0;
            border-bottom: 1px solid #333;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: #ffffff;
            text-decoration: none;
            font-weight: bold;
            padding: 0.5rem 0.8rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: #3498db;
            color: #ffffff;
        }

        .search-container {
            display: flex;
            gap: 0.5rem;
        }

        #search-input {
            padding: 0.5rem 0.8rem;
            border: 2px solid #3498db;
            border-radius: 5px;
            background: #2c2c2c;
            color: #ffffff;
            font-size: 1rem;
            width: 200px;
        }

        #search-input:focus {
            outline: none;
            border-color: #2980b9;
            background: #333;
        }

        #search-button {
            padding: 0.5rem 1rem;
            background: #3498db;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #search-button:hover {
            background: #2980b9;
        }

        .search-results {
            position: absolute;
            background: #2c2c2c;
            border: 1px solid #3498db;
            border-radius: 5px;
            padding: 1rem;
            max-width: 400px;
            margin-top: 0.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: none;
        }

        .search-results h4 {
            color: #3498db;
            margin-bottom: 0.8rem;
        }

        .lang-btn {
            padding: 0.5rem 1rem;
            background: #34495e;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lang-btn:hover {
            background: #3498db;
        }

        .lang-btn.active {
            background: #3498db;
        }

        .search-result-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid #3a3a3a;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item a {
            color: #ecf0f1;
            text-decoration: none;
            display: block;
            transition: color 0.3s ease;
        }

        .search-result-item a:hover {
            color: #3498db;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .logo img {
            width: 60px;
            height: 60px;
            margin-right: 1rem;
            border-radius: 8px;
        }

        h1 {
            font-size: 2.5rem;
            color: #e0e0e0;
            text-shadow: none;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .game-info {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 2rem 0;
        }

        .game-info p {
            font-size: 1.2rem;
            margin-bottom: 1.2rem;
        }

        .game-link {
            display: inline-block;
            background: #c0392b;
            color: white;
            padding: 0.9rem 1.8rem;
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .game-link:hover {
            background: #a93226;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        main {
            max-width: 1200px;
            margin: 3rem auto;
            padding: 0 2rem;
        }

        section {
            margin-bottom: 4rem;
        }

        h2 {
            font-size: 2rem;
            color: #e0e0e0;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
            font-weight: 600;
        }

        h3 {
            font-size: 1.5rem;
            color: #e0e0e0;
            margin: 1.5rem 0 1rem;
            font-weight: 600;
        }

        h4 {
            font-size: 1.2rem;
            color: #e0e0e0;
            margin: 1rem 0 0.5rem;
            font-weight: 600;
        }

        .category {
            background: #1e1e1e;
            padding: 2rem;
            border: 1px solid #333;
            border-radius: 0;
            box-shadow: none;
            margin-bottom: 2rem;
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }

        .category-header img {
            width: 60px;
            height: 60px;
            margin-right: 1.2rem;
            border-radius: 8px;
        }

        .character {
            background: #252525;
            padding: 1.5rem;
            border: 1px solid #333;
            border-radius: 0;
            margin-bottom: 1.5rem;
            border-left: 3px solid #555;
        }

        .character-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .character-header img {
            width: 40px;
            height: 40px;
            margin-right: 0.8rem;
            border-radius: 0;
        }

        .skill {
            background: #252525;
            padding: 1.5rem;
            border: 1px solid #333;
            border-radius: 0;
            margin: 1rem 0;
            border-left: 3px solid #555;
        }

        .skill-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .skill-header img {
            width: 35px;
            height: 35px;
            margin-right: 0.6rem;
            border-radius: 0;
        }

        .status {
            display: inline-block;
            padding: 0.4rem 1.2rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 0.8rem 0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status.completed {
            background: #229954;
            color: white;
        }

        .status.in-progress {
            background: #f39c12;
            color: white;
        }

        .status.not-started {
            background: #7f8c8d;
            color: white;
        }

        .property {
            display: flex;
            margin: 0.8rem 0;
            line-height: 1.7;
        }

        .property-label {
            font-weight: 600;
            min-width: 100px;
            color: #95a5a6;
        }

        .property-value {
            color: #e0e0e0;
        }

        .note {
            background: rgba(231, 76, 60, 0.1);
            border-left: 5px solid #c0392b;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 6px;
            border: 1px solid rgba(231, 76, 60, 0.2);
        }

        footer {
            background: #2c2c2c;
            text-align: center;
            padding: 1.5rem;
            margin-top: 3rem;
            color: #bdc3c7;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .header-content, main {
                padding: 0 1rem;
            }
            
            .category {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" style="text-decoration: none; color: inherit;">
                <div class="logo">
                    <img src="assets/icons/wikiicon.png" alt="Death Place Logo" style="cursor: pointer;">
                    <h1 style="cursor: pointer;">Death Place Wiki</h1>
                </div>
            </a>
        </div>
    </header>

    <nav>
        <div class="nav-container">
            <div class="nav-links">
                <a href="index.html">首页</a>
                <a href="killers.html">杀手</a>
                <a href="robloxians.html">Robloxian</a>
                <a href="pages.html">所有页面</a>
            </div>
            <div style="display: flex; gap: 0.5rem; align-items: center;">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="搜索页面...">
                    <button id="search-button">搜索</button>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button id="lang-zh" class="lang-btn active" data-lang="zh">中文</button>
                    <button id="lang-en" class="lang-btn" data-lang="en">English</button>
                </div>
            </div>
        </div>
        <div class="search-results" id="search-results"></div>
    </nav>

    <main>
        <section id="killers">
            <div class="category">
                <div class="category-header">
                    <img src="assets/icons/Killericon.png" alt="Killer Icon">
                    <h2>杀手</h2>
                </div>
                <p>杀手阵营是游戏中的"猎人"，拥有强大的能力和技能，目标是消灭所有Robloxian。</p>

                <div class="character">
                    <h3>Error277</h3>
                    <div class="status not-started">图标（未上传）</div>
                    <div class="property">
                        <span class="property-label">背景故事：</span>
                        <span class="property-value">未上传（已编写）</span>
                    </div>
                    <p>“你会被277踢出！”</p>
                    
                    <div class="note">
                        <strong>开发状态：</strong>Error277 设计包含 3 个技能和 1 个普通攻击，目前仅 1 个技能已开发完毕，1 个技能处于开发中，其余技能尚未完成开发。
                    </div>
                </div>

                <div class="skill">
                    <div class="skill-header">
                        <img src="assets/icons/Slashicon.png" alt="Slash Icon">
                        <h4>Slash</h4>
                    </div>
                    <div class="status completed">已开发完毕</div>
                    <div class="property">
                        <span class="property-label">伤害：</span>
                        <span class="property-value">20hp</span>
                    </div>
                    <div class="property">
                        <span class="property-label">冷却：</span>
                        <span class="property-value">0.6</span>
                    </div>
                </div>

                <div class="skill">
                    <div class="skill-header">
                        <img src="assets/icons/SwordLungeicon.png" alt="Sword Lunge Icon">
                        <h4>Sword Lunge</h4>
                    </div>
                    <div class="status in-progress">未开发完毕</div>
                    <div class="property">
                        <span class="property-label">伤害：</span>
                        <span class="property-value">5hp+5hp+20</span>
                    </div>
                    <div class="property">
                        <span class="property-label">冷却：</span>
                        <span class="property-value">20秒</span>
                    </div>
                    <p><strong>技能机制：</strong>该技能分为两个阶段进行攻击</p>
                    <p><strong>前摇阶段：</strong>技能启动后，将有0.25秒的前摇时间，此阶段可被击晕</p>
                    <p><strong>第一阶段：</strong>前摇结束后，Error277将挥动铁剑进行两次旋转攻击，每次造成5hp伤害，同时移速提升2.5，此阶段不可被击晕</p>
                    <p><strong>第二阶段：</strong>第一阶段结束后，将进入0.97秒的第二阶段前摇，此阶段可被击晕</p>
                    <p><strong>攻击释放：</strong>第二阶段前摇结束后，Error277将挥动铁剑进行强力攻击，造成20hp伤害，同时移速提升3，目标玩家将无法移动，此阶段不可被击晕</p>
                    <p><strong>技能收尾：</strong>攻击完成后，技能进入冷却状态，Error277移速恢复正常，可被击晕</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 Death Place Wiki. All rights reserved.</p>
    </footer>

    <script>
        // 翻译字典
        const translations = {
            zh: {
                // 导航栏
                home: '首页',
                killers: '杀手',
                robloxians: '罗布西亚',
                allPages: '所有页面',
                searchPlaceholder: '搜索页面...',
                searchButton: '搜索',
                
                // 杀手页面内容
                killersTitle: '杀手',
                killersDesc: '杀手阵营是游戏中的"猎人"，拥有强大的能力和技能，目标是消灭所有Robloxian。',
                error277: 'Error277',
                bgStory: '背景故事：',
                notUploaded: '未上传（已编写）',
                quote: '“你会被[错误代码 277]踢出！”',
                devStatus: '开发状态：',
                devStatusDesc: 'Error277 设计包含 3 个技能和 1 个普通攻击，目前仅 1 个技能已开发完毕，1 个技能处于开发中，其余技能尚未完成开发。',
                
                // 技能
                slash: 'Slash',
                swordLunge: 'Sword Lunge',
                damage: '伤害：',
                cooldown: '冷却：',
                skillMechanism: '技能机制：',
                skillMechanismDesc: '该技能分为两个阶段进行攻击',
                windupStage: '前摇阶段：',
                windupStageDesc: '技能启动后，将有0.25秒的前摇时间，此阶段可被击晕',
                skillStage1: '第一阶段：',
                skillStage1Desc: '前摇结束后，Error277将挥动铁剑进行两次旋转攻击，每次造成5hp伤害，同时移速提升2.5，此阶段不可被击晕',
                skillStage2: '第二阶段：',
                skillStage2Desc: '第一阶段结束后，将进入0.97秒的第二阶段前摇，此阶段可被击晕',
                skillRelease: '攻击释放：',
                skillReleaseDesc: '第二阶段前摇结束后，Error277将挥动铁剑进行强力攻击，造成20hp伤害，同时移速提升3，目标玩家将无法移动，此阶段不可被击晕',
                skillEnd: '技能收尾：',
                skillEndDesc: '攻击完成后，技能进入冷却状态，Error277移速恢复正常，可被击晕',
                
                // 状态
                completed: '已开发完毕',
                inProgress: '未开发完毕',
                notStarted: '图标（未上传）',
                
                // 搜索结果
                searchResults: '搜索结果：',
                noResults: '未找到匹配的页面',
                
                // 页脚
                copyright: '© 2026 Death Place Wiki. All rights reserved.'
            },
            en: {
                // 导航栏
                home: 'Home',
                killers: 'Killers',
                robloxians: 'Robloxian',
                allPages: 'All Pages',
                searchPlaceholder: 'Search pages...',
                searchButton: 'Search',
                
                // 杀手页面内容
                killersTitle: 'Killers',
                killersDesc: 'The Killer faction is the "hunters" in the game, with powerful abilities and skills, aiming to eliminate all Robloxians.',
                error277: 'Error277',
                bgStory: 'Background Story: ',
                notUploaded: 'Not uploaded (written)',
                quote: '"You will be kicked by [Error Code 277]!"',
                devStatus: 'Development Status: ',
                devStatusDesc: 'Error277 is designed with 3 skills and 1 normal attack. Currently, only 1 skill has been completed, 1 skill is in development, and the remaining skills have not been completed.',
                
                // 技能
                slash: 'Slash',
                swordLunge: 'Sword Lunge',
                damage: 'Damage: ',
                cooldown: 'Cooldown: ',
                skillMechanism: 'Skill Mechanism: ',
                skillMechanismDesc: 'This skill consists of two stages of attack',
                windupStage: 'Windup Stage: ',
                windupStageDesc: 'After activating the skill, there will be a 0.25-second windup time, during which the attacker can be stunned',
                skillStage1: 'Stage 1: ',
                skillStage1Desc: 'After the windup ends, Error277 will swing the iron sword for two rotating attacks, each dealing 5hp damage, while increasing movement speed by 2.5. This stage cannot be stunned',
                skillStage2: 'Stage 2: ',
                skillStage2Desc: 'After the first stage ends, a 0.97-second windup for the second stage will begin, during which the attacker can be stunned',
                skillRelease: 'Attack Release: ',
                skillReleaseDesc: 'After the second stage windup ends, Error277 will swing the iron sword for a powerful attack, dealing 20hp damage, while increasing movement speed by 3. The target player will be unable to move, and this stage cannot be stunned',
                skillEnd: 'Skill End: ',
                skillEndDesc: 'After the attack is completed, the skill enters cooldown, Error277\'s movement speed returns to normal, and they can be stunned',
                
                // 状态
                completed: 'Completed',
                inProgress: 'In Progress',
                notStarted: 'Icon (Not uploaded)',
                
                // 搜索结果
                searchResults: 'Search Results: ',
                noResults: 'No matching pages found',
                
                // 页脚
                copyright: '© 2026 Death Place Wiki. All rights reserved.'
            }
        };

        // 页面数据，用于搜索
        const pages = [
            {
                title: {
                    zh: '首页',
                    en: 'Home'
                }, 
                url: 'index.html', 
                description: {
                    zh: 'Death Place Wiki 首页',
                    en: 'Death Place Wiki Home'
                },
                content: {
                    zh: 'Death Place 是一款融合非对称竞技与生存元素的游戏，玩家可自由选择扮演杀手或 Robloxian 角色。杀手阵营的核心目标是消灭所有 Robloxian 角色，而 Robloxian 阵营则需通过协作生存并完成指定任务。',
                    en: 'Death Place is a game that combines asymmetric competition and survival elements, where players can freely choose to play as Killers or Robloxian characters. The Killer faction\'s core goal is to eliminate all Robloxian characters, while the Robloxian faction needs to survive and complete assigned tasks through cooperation.'
                }
            },
            {
                title: {
                    zh: '杀手',
                    en: 'Killers'
                }, 
                url: 'killers.html', 
                description: {
                    zh: '杀手角色信息',
                    en: 'Killer Characters Information'
                },
                content: {
                    zh: '杀手阵营是游戏中的"猎人"，拥有强大的能力和技能，目标是消灭所有Robloxian。包含 Error277 杀手角色及其技能信息，如 Slash 和 Sword Lunge 技能，以及相关开发状态。Error277 是一个具有特殊能力的杀手角色，拥有多种技能。Slash 是已开发完毕的技能，造成 20hp 伤害，冷却时间 0.6 秒。Sword Lunge 是分二阶段攻击的技能，造成 5hp+5hp+20 伤害，冷却时间 20 秒。',
                    en: 'The Killer faction is the "hunters" in the game, with powerful abilities and skills, aiming to eliminate all Robloxians. Contains information about the Error277 Killer character and its skills, such as Slash and Sword Lunge skills, as well as related development status. Error277 is a Killer character with special abilities, possessing multiple skills. Slash is a completed skill that deals 20hp damage with a 0.6-second cooldown. Sword Lunge is a two-stage attack skill that deals 5hp+5hp+20 damage with a 20-second cooldown.'
                }
            },
            {
                title: {
                    zh: '罗布西亚',
                    en: 'Robloxian'
                }, 
                url: 'robloxians.html', 
                description: {
                    zh: '罗布西亚角色信息',
                    en: 'Robloxian Characters Information'
                },
                content: {
                    zh: '罗布西亚 阵营是游戏中的"猎物"，通过与队友合作来生存并躲避夜晚杀手的追杀，目标是在杀手的威胁和饥饿中下生存下来。包含 罗布西亚 角色 Jamie 的信息。',
                    en: 'The Robloxian faction is the "prey" in the game, surviving through cooperation with teammates and evading the Killer\'s pursuit at night, aiming to survive under the Killer\'s threat and hunger. Contains information about the Robloxian character Jamie.'
                }
            },
            {
                title: {
                    zh: '所有页面',
                    en: 'All Pages'
                }, 
                url: 'pages.html', 
                description: {
                    zh: '所有页面列表',
                    en: 'All Pages List'
                },
                content: {
                    zh: '显示 Death Place Wiki 的所有页面列表，包括首页、杀手、Robloxian 和所有页面列表本身。',
                    en: 'Displays the complete list of Death Place Wiki pages, including Home, Killers, Robloxian, and the All Pages list itself.'
                }
            }
        ];

        // 语言切换功能
        let currentLang = localStorage.getItem('lang') || 'zh';

        // 设置语言
        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            
            // 更新按钮状态
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            // 更新页面内容
            updatePageContent();
        }

        // 更新页面内容
        function updatePageContent() {
            // 更新html lang属性
            document.documentElement.lang = currentLang === 'zh' ? 'zh-CN' : 'en';
            
            // 更新页面标题
            if (window.location.pathname.endsWith('killers.html')) {
                document.title = `${translations[currentLang].killers} - Death Place Wiki`;
            } else if (window.location.pathname.endsWith('robloxians.html')) {
                document.title = `${translations[currentLang].robloxians} - Death Place Wiki`;
            } else if (window.location.pathname.endsWith('pages.html')) {
                document.title = `${translations[currentLang].allPages} - Death Place Wiki`;
            } else {
                document.title = 'Death Place Wiki';
            }
            
            // 更新导航栏
            document.querySelectorAll('.nav-links a')[0].textContent = translations[currentLang].home;
            document.querySelectorAll('.nav-links a')[1].textContent = translations[currentLang].killers;
            document.querySelectorAll('.nav-links a')[2].textContent = translations[currentLang].robloxians;
            document.querySelectorAll('.nav-links a')[3].textContent = translations[currentLang].allPages;
            
            // 更新搜索框
            document.getElementById('search-input').placeholder = translations[currentLang].searchPlaceholder;
            document.getElementById('search-button').textContent = translations[currentLang].searchButton;
            
            // 更新杀手页面内容
            if (window.location.pathname.endsWith('killers.html')) {
                // 更新主要标题和描述
                document.querySelector('.category-header h2').textContent = translations[currentLang].killersTitle;
                document.querySelector('.category p').textContent = translations[currentLang].killersDesc;
                
                // 更新Error277角色信息
                const characterElement = document.querySelector('.character');
                if (characterElement) {
                    characterElement.querySelector('h3').textContent = translations[currentLang].error277;
                    
                    // 更新状态标签
                    characterElement.querySelector('.status.not-started').textContent = translations[currentLang].notStarted;
                    
                    // 更新背景故事
                    const bgStoryProperty = characterElement.querySelector('.property');
                    if (bgStoryProperty) {
                        bgStoryProperty.querySelector('.property-label').textContent = translations[currentLang].bgStory;
                        bgStoryProperty.querySelector('.property-value').textContent = translations[currentLang].notUploaded;
                    }
                    
                    // 更新引言
                    const quoteElement = characterElement.querySelector('p');
                    if (quoteElement) {
                        quoteElement.textContent = translations[currentLang].quote;
                    }
                    
                    // 更新开发状态说明
                    const noteElement = characterElement.querySelector('.note');
                    if (noteElement) {
                        noteElement.innerHTML = `<strong>${translations[currentLang].devStatus}</strong>${translations[currentLang].devStatusDesc}`;
                    }
                }
                
                // 更新Slash技能
                const slashSkill = document.querySelectorAll('.skill')[0];
                if (slashSkill) {
                    // 更新状态标签
                    slashSkill.querySelector('.status.completed').textContent = translations[currentLang].completed;
                    
                    // 更新属性标签
                    const slashProperties = slashSkill.querySelectorAll('.property');
                    if (slashProperties.length >= 2) {
                        slashProperties[0].querySelector('.property-label').textContent = translations[currentLang].damage;
                        slashProperties[1].querySelector('.property-label').textContent = translations[currentLang].cooldown;
                        
                        // 更新冷却时间值，添加单位
                        const cooldownValue = slashProperties[1].querySelector('.property-value');
                        if (cooldownValue) {
                            if (currentLang === 'zh') {
                                cooldownValue.textContent = '0.6秒';
                            } else {
                                cooldownValue.textContent = '0.6s';
                            }
                        }
                    }
                }
                
                // 更新Sword Lunge技能
                const swordLungeSkill = document.querySelectorAll('.skill')[1];
                if (swordLungeSkill) {
                    // 更新状态标签
                    swordLungeSkill.querySelector('.status.in-progress').textContent = translations[currentLang].inProgress;
                    
                    // 更新属性标签
                    const swordLungeProperties = swordLungeSkill.querySelectorAll('.property');
                    if (swordLungeProperties.length >= 2) {
                        swordLungeProperties[0].querySelector('.property-label').textContent = translations[currentLang].damage;
                        swordLungeProperties[1].querySelector('.property-label').textContent = translations[currentLang].cooldown;
                        
                        // 更新冷却时间值，添加正确的单位
                        const cooldownValue = swordLungeProperties[1].querySelector('.property-value');
                        if (cooldownValue) {
                            if (currentLang === 'zh') {
                                cooldownValue.textContent = '20秒';
                            } else {
                                cooldownValue.textContent = '20s';
                            }
                        }
                    }
                    
                    // 更新技能描述
                    const skillParagraphs = swordLungeSkill.querySelectorAll('p');
                    if (skillParagraphs.length >= 6) {
                        skillParagraphs[0].innerHTML = `<strong>${translations[currentLang].skillMechanism}</strong>${translations[currentLang].skillMechanismDesc}`;
                        skillParagraphs[1].innerHTML = `<strong>${translations[currentLang].windupStage}</strong>${translations[currentLang].windupStageDesc}`;
                        skillParagraphs[2].innerHTML = `<strong>${translations[currentLang].skillStage1}</strong>${translations[currentLang].skillStage1Desc}`;
                        skillParagraphs[3].innerHTML = `<strong>${translations[currentLang].skillStage2}</strong>${translations[currentLang].skillStage2Desc}`;
                        skillParagraphs[4].innerHTML = `<strong>${translations[currentLang].skillRelease}</strong>${translations[currentLang].skillReleaseDesc}`;
                        skillParagraphs[5].innerHTML = `<strong>${translations[currentLang].skillEnd}</strong>${translations[currentLang].skillEndDesc}`;
                    }
                }
            }
            
            // 更新页脚
            document.querySelector('footer p').textContent = translations[currentLang].copyright;
        }

        // 搜索功能
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const searchResults = document.getElementById('search-results');

        function performSearch() {
            const query = searchInput.value.toLowerCase();
            if (!query.trim()) {
                searchResults.style.display = 'none';
                return;
            }

            const results = pages.filter(page => 
                page.title[currentLang].toLowerCase().includes(query) || 
                page.description[currentLang].toLowerCase().includes(query) ||
                page.content[currentLang].toLowerCase().includes(query)
            );

            if (results.length > 0) {
                let resultsHTML = `<h4>${translations[currentLang].searchResults}</h4>`;
                results.forEach(result => {
                    resultsHTML += `<div class="search-result-item">
                        <a href="${result.url}">${result.title[currentLang]}</a>
                        <p style="font-size: 0.9rem; color: #bdc3c7; margin: 0.3rem 0 0 0;">${result.description[currentLang]}</p>
                    </div>`;
                });
                searchResults.innerHTML = resultsHTML;
                searchResults.style.display = 'block';
            } else {
                searchResults.innerHTML = `<h4>${translations[currentLang].searchResults}</h4><p>${translations[currentLang].noResults}</p>`;
                searchResults.style.display = 'block';
            }
        }

        // 搜索按钮点击事件
        searchButton.addEventListener('click', performSearch);

        // 输入框键盘事件
        searchInput.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // 点击页面其他地方关闭搜索结果
        document.addEventListener('click', function(e) {
            if (!searchInput.contains(e.target) && !searchButton.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none';
            }
        });

        // 语言切换按钮事件
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setLanguage(this.getAttribute('data-lang'));
            });
        });

        // 初始化语言
        setLanguage(currentLang);
    </script>
</body>
</html>